<!DOCTYPE html>
<html>
<head>
  <title>DonutSMP Money Stats</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

<h1>DonutSMP Money Stats</h1>
<div id="cards" class="cards"></div>

<script>
async function loadStats() {
  const res = await fetch("/api/stats");
  const players = await res.json();
  const container = document.getElementById("cards");
  container.innerHTML = "";

  players.forEach(player => {
    const card = document.createElement("div");
    card.className = "card";

    const moneyText = player.money === "N/A" 
      ? "No stats available"
      : Number(player.money).toLocaleString();

    card.innerHTML = `
      <img src="${player.avatar}">
      <h2>${player.username}</h2>
      <p>Money: ${moneyText}</p>
    `;

    container.appendChild(card);
  });
}

loadStats();
</script>

</body>
</html>
